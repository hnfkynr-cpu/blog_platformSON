@{
    ViewData["Title"] = "Edit Profile";
    Layout = null;

    var displayName = ViewBag.DisplayName as string ?? "Kullanƒ±cƒ±";
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Profile - Novus</title>

    <style>
        /* ================== TEMEL ================== */
        :root{
            --ink:#1f2937;
            --muted:#6b7280;
            --border:rgba(0,0,0,.08);
            --shadow: 0 18px 60px rgba(17,24,39,.10);
            --r: 18px;

            --g1:#ff7aa2;
            --g2:#7c7cff;
            --g3:#5ad7c4;
            --g4:#ffd36e;

            --green:#1a8917;
        }

        *{ box-sizing:border-box; }
        body{
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            margin:0;
            color:var(--ink);
            background:
                radial-gradient(1000px 520px at 20% 10%, rgba(255,122,162,.20), transparent 60%),
                radial-gradient(900px 520px at 80% 20%, rgba(124,124,255,.18), transparent 60%),
                radial-gradient(980px 560px at 60% 90%, rgba(90,215,196,.18), transparent 60%),
                linear-gradient(180deg, #ffffff, #fbfbff 45%, #ffffff);
            min-height:100vh;
            overflow-x:hidden;
        }

        .layout-container{
            display:flex;
            min-height:100vh;
        }

        /* ================== SOL SIDEBAR ================== */
        .sidebar-left{
            width:280px;
            padding:24px;
            border-right:1px solid #f2f2f2;
            position:sticky;
            top:0;
            height:100vh;
            display:flex;
            flex-direction:column;
            background:rgba(255,255,255,.9);
            backdrop-filter: blur(8px);
        }

        .logo{
            font-size:26px;
            font-weight:900;
            letter-spacing:-1px;
            color:#000;
            text-decoration:none;
            margin-bottom:35px;
        }

        .menu-item{
            display:flex;
            align-items:center;
            padding:10px 0;
            font-size:15px;
            color:#757575;
            text-decoration:none;
            transition:.2s;
        }

        .menu-item:hover,
        .menu-item.active{
            color:#000;
            font-weight:600;
        }

        .menu-icon{
            width:24px;
            margin-right:15px;
            font-size:18px;
        }

        .write-btn{ color: var(--green) !important; }

        .menu-group{
            margin-top:25px;
            padding-top:15px;
            border-top:1px solid #f2f2f2;
        }

        /* ================== ORTA ALAN ================== */
        .main-content{
            flex:1;
            padding:50px 80px;
            max-width:760px;
            text-align:center;
            position:relative;
        }

        .page-title{
            margin: 6px 0 8px;
            font-size: 40px;
            font-weight: 900;
            letter-spacing: -0.6px;
            font-family: ui-serif, Georgia, serif;
        }

        .page-sub{
            margin:0 0 26px;
            color:var(--muted);
            font-size:14.5px;
            line-height:1.6;
        }

        .card{
            background: rgba(255,255,255,.88);
            border: 1px solid var(--border);
            border-radius: var(--r);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            overflow:hidden;
            text-align:left;
        }

        .card-head{
            padding:18px 18px 14px;
            border-bottom:1px solid rgba(0,0,0,.06);
            background:
                linear-gradient(90deg, rgba(255,122,162,.16), rgba(124,124,255,.14), rgba(90,215,196,.14));
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:12px;
        }

        .chip{
            display:inline-flex;
            align-items:center;
            gap:8px;
            padding:8px 12px;
            border-radius:999px;
            border: 1px solid rgba(0,0,0,.08);
            background: rgba(255,255,255,.75);
            font-size:12.5px;
            font-weight:800;
            color:#111827;
        }
        .dot{
            width:9px;height:9px;border-radius:99px;
            background: linear-gradient(135deg, var(--g3), var(--g4));
            box-shadow: 0 0 0 4px rgba(90,215,196,.15);
        }

        .card-body{
            padding:18px;
            display:grid;
            gap:14px;
        }

        .field{
            text-align:left;
        }

        .label{
            display:block;
            font-weight:800;
            margin-bottom:8px;
            font-size:13px;
            color:#111827;
        }

        .input{
            width:100%;
            padding:12px 14px;
            border-radius:14px;
            border:1px solid rgba(0,0,0,.12);
            background: rgba(255,255,255,.95);
            outline:none;
            font-size:14px;
            transition:.18s ease;
        }

        .input:focus{
            border-color: rgba(124,124,255,.55);
            box-shadow: 0 0 0 5px rgba(124,124,255,.12), 0 16px 50px rgba(124,124,255,.08);
        }

        .hint{
            color:var(--muted);
            font-size:12.5px;
            margin-top:8px;
            line-height:1.4;
        }

        .actions{
            display:flex;
            gap:10px;
            justify-content:flex-end;
            flex-wrap:wrap;
            margin-top:6px;
        }

        .btn{
            display:inline-flex;
            align-items:center;
            gap:10px;
            border-radius: 12px;
            border: 1px solid rgba(0,0,0,.10);
            padding: 10px 14px;
            font-weight: 900;
            font-size: 13.5px;
            cursor:pointer;
            background: rgba(255,255,255,.90);
            transition: .18s ease;
            user-select:none;
            text-decoration:none;
            color:#111827;
        }
        .btn:hover{ transform: translateY(-1px); box-shadow: 0 12px 28px rgba(0,0,0,.08); }
        .btn:active{ transform: translateY(0px); }

        .btnPrimary{
            border-color: rgba(26,137,23,.35);
            background: linear-gradient(135deg, rgba(90,215,196,.26), rgba(255,211,110,.22));
        }

        .btnGhost{
            border-color: rgba(0,0,0,.10);
            background: rgba(255,255,255,.85);
        }

        /* ================== SAƒû PANEL (PREVIEW) ================== */
        .sidebar-right{
            width:320px;
            border-left:1px solid #f2f2f2;
            padding:40px;
            background: rgba(255,255,255,.9);
            backdrop-filter: blur(8px);
        }

        .preview-card{
            background: rgba(255,255,255,.88);
            border: 1px solid rgba(0,0,0,.08);
            border-radius: 18px;
            box-shadow: 0 16px 45px rgba(0,0,0,.08);
            padding: 18px;
            text-align:center;
        }

        .avatar{
            width:92px;height:92px;
            border-radius:999px;
            margin: 0 auto 14px;
            display:grid;
            place-items:center;
            color:#fff;
            font-weight:900;
            letter-spacing:.6px;
            font-size:28px;
            background: linear-gradient(135deg, var(--g2), var(--g1));
            border: 2px solid rgba(255,255,255,.8);
            box-shadow: 0 16px 40px rgba(124,124,255,.18);
        }

        .preview-name{
            font-weight:900;
            font-size:18px;
            margin:0 0 6px;
            overflow:hidden;
            text-overflow:ellipsis;
            white-space:nowrap;
        }

        .preview-sub{
            margin:0;
            color:var(--muted);
            font-size:13px;
            line-height:1.5;
        }

        .footer-note{
            margin-top:auto;
            font-size:11px;
            color:#bdc3c7;
        }

        @@media (max-width: 1100px){
            .sidebar-right{ display:none; }
            .main-content{ max-width: 900px; }
        }

        @@media (max-width: 720px){
            .sidebar-left{ display:none; }
            .main-content{ padding: 28px 18px; }
            .page-title{ font-size: 32px; }
        }
    </style>
</head>

<body>
<div class="layout-container">

    <!-- SOL MEN√ú -->
    <nav class="sidebar-left">
        <a href="/Home/Index" class="logo">NOVUS</a>

        <a href="/Home/Index" class="menu-item"><span class="menu-icon">üè†</span>Home</a>
        <a href="/Home/Library" class="menu-item"><span class="menu-icon">üìö</span>Library</a>
        <a href="/Home/Profile" class="menu-item active"><span class="menu-icon">üë§</span>Profile</a>

        <div class="menu-group">
            <a href="/Home/Stories" class="menu-item"><span class="menu-icon">üìù</span>Stories</a>
            <a href="/Home/Stats" class="menu-item"><span class="menu-icon">üìä</span>Stats</a>
            <a href="/Home/Write" class="menu-item write-btn"><span class="menu-icon">‚úçÔ∏è</span>Write</a>
        </div>

        <div class="footer-note">
            ¬© 2025 Novus
        </div>
    </nav>

    <!-- ORTA -->
    <main class="main-content">
        <h1 class="page-title">Edit Profile</h1>
        <p class="page-sub">
            Profilini ki≈üiselle≈ütir: g√∂r√ºnen ismini deƒüi≈ütir, kaydet ve sitedeki t√ºm alanlarda aynƒ± isim g√∂r√ºns√ºn.
        </p>

        <div class="card">
            <div class="card-head">
                <div style="font-weight:900;">Profil Bilgileri</div>
                <div class="chip"><span class="dot"></span> Canlƒ± √∂nizleme</div>
            </div>

            <div class="card-body">
                <form method="post" action="/Home/UpdateProfile">
                    @Html.AntiForgeryToken()

                    <div class="field">
                        <label class="label">G√∂r√ºnen ƒ∞sim</label>
                        <input id="displayNameInput"
                               class="input"
                               name="displayName"
                               value="@displayName"
                               maxlength="40"
                               placeholder="√ñrn: Zeynep Selime Kartal" />
                        <div class="hint">2‚Äì40 karakter arasƒ± √∂nerilir. Kaydettikten sonra profil sayfan ve diƒüer alanlar g√ºncellenir.</div>
                    </div>

                    <div class="actions">
                        <a class="btn btnGhost" href="/Home/Profile">‚Ü©Ô∏è Geri d√∂n</a>
                        <button type="submit" class="btn btnPrimary">üíæ Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- SAƒû (√ñNƒ∞ZLEME) -->
    <aside class="sidebar-right">
        <div class="preview-card">
            <div class="avatar" id="avatarInitials">NV</div>
            <p class="preview-name" id="previewName">@displayName</p>
            <p class="preview-sub">Bu kƒ±sƒ±m, profilde g√∂r√ºn√ºm√ºn nasƒ±l olacaƒüƒ±nƒ± g√∂sterir.</p>
        </div>
    </aside>

</div>

<script>
    (function(){
        const input = document.getElementById("displayNameInput");
        const preview = document.getElementById("previewName");
        const avatar = document.getElementById("avatarInitials");

        function initialsFrom(name){
            if(!name) return "NV";
            const parts = name.trim().split(/\s+/).filter(Boolean);
            if(parts.length === 1) return parts[0].slice(0,2).toUpperCase();
            return (parts[0][0] + parts[parts.length-1][0]).toUpperCase();
        }

        function sync(){
            const val = input ? input.value : "";
            if(preview) preview.textContent = val || "Kullanƒ±cƒ±";
            if(avatar) avatar.textContent = initialsFrom(val);
        }

        if(input){
            input.addEventListener("input", sync);
            sync();
        }
    })();
</script>

</body>
</html>
